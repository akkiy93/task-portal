# イシュー一覧

## Issue #1: バグ修正 - タスク追加・編集ボタンの二重送信問題

### 問題
タスク追加ボタンや編集ボタンを押した際に、タイムラグがあり追加/編集できていないと感じ、2回目を押すと2個追加/編集される問題が発生しています。

### 再現手順
1. タスク追加フォームに入力して「タスクを追加」ボタンをクリック
2. すぐに反応がないため、もう一度クリック
3. 結果として2つのタスクが追加される

同様に編集ボタンでも2回クリックすると編集欄が2つ表示される

### 期待される動作
- ボタンをクリックしたら即座に無効化（disabled）する
- 処理中はローディング表示を出す
- 処理完了までボタンを再度クリックできないようにする

### 解決方法
- ボタンクリック時に即座にdisabled属性を追加
- ローディングインジケーターを表示
- 処理完了後にボタンを再有効化

---

## Issue #2: UI改善 - ヘッダー部分の機能追加

### 概要
ヘッダー部分（📋 タスク管理ポータル）を以下のように改善します。

### 変更内容

#### 1. サブタイトルの削除
- 「あなたのタスクと労働時間を可視化」を削除

#### 2. 現在時刻のリアルタイム表示
- 日付、時間（時分秒）をリアルタイムで表示
- JavaScriptのsetIntervalを使用して1秒ごとに更新

#### 3. 今日の目標入力欄
- 入力欄を追加（日報作成時に使用）
- スプレッドシートの「日報」シートに保存
- 日付ごとに1つの目標を保存

#### 4. 現在の体調ステータスボタン
- 体調ステータス（良い/普通/良くない）を表示するボタン
- クリックで体調を記録できる
- 日報作成時に使用

### 技術的な実装

#### バックエンド（Code.gs）
- 日報シートの作成（日付、目標、体調スコア、メモなど）
- `saveDailyGoal(date, goal)` 関数
- `getDailyGoal(date)` 関数
- `recordDailyReport(reportData)` 関数

#### フロントエンド（index.html）
- リアルタイム時計の実装
- 目標入力欄の追加
- 体調ステータスボタンの追加

---

## Issue #3: 機能追加 - 体調記録欄を日報記入欄に変更

### 概要
現在の「体調記録」セクションを「日報記入欄」に変更し、より包括的な日報機能を実装します。

### 変更内容

#### 現在の機能
- 体調スコアの記録（良い/普通/良くない）
- メモの記録

#### 新しい機能（日報記入欄）
- 日付（自動設定、今日の日付）
- 今日の目標（ヘッダーから取得、または直接入力）
- 体調スコア（良い/普通/良くない）
- 今日完了したタスク（自動取得：ステータスが「完了」のタスク）
- 今日の振り返り（メモ）
- 明日の予定（任意）

### データ構造

#### 日報シートの列
1. 日付
2. 目標
3. 体調スコア
4. 完了タスク数
5. 完了タスク時間合計
6. 振り返り
7. 明日の予定
8. 記録日時

### 技術的な実装

#### バックエンド（Code.gs）
- `SHEET_NAME_REPORT = '日報'` を追加
- `initializeSpreadsheet()` に日報シートの作成を追加
- `recordDailyReport(reportData)` 関数の実装
- `getDailyReport(date)` 関数の実装
- `getCompletedTasksToday()` 関数の実装

#### フロントエンド（index.html）
- 「体調記録」セクションを「日報記入欄」に変更
- フォーム項目を追加：
  - 今日の目標（ヘッダーから取得、または直接入力）
  - 体調スコア
  - 今日完了したタスク（自動表示、読み取り専用）
  - 振り返り
  - 明日の予定
- 日報送信ボタン

